@model fantasydg.Models.League

@{
    var userId = User?.Claims.FirstOrDefault(c => c.Type == "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier")?.Value;
}

<h2>@Model.Name</h2>

@if (userId == Model.OwnerId)
{
    <a class="btn btn-secondary" href="@Url.Action("Settings", "League", new { id = Model.LeagueId })">Settings</a>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-warning">@TempData["ErrorMessage"]</div>
}

<p>Members: @Model.Members?.Count</p>

<form asp-action="LeaveLeague" asp-controller="League" method="post"
      onsubmit="return confirm('Are you sure you want to leave this league?');">
    <input type="hidden" name="leagueId" value="@Model.LeagueId" />
    <button type="submit" class="btn btn-outline-danger">
        Leave League
    </button>
</form>